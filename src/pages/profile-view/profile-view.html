<!--
  Generated template for the ProfileView page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar color="primary">
		<ion-title>View Profile</ion-title>
	</ion-navbar>

</ion-header>


<ion-content padding>
	<ion-grid>
		<ion-row>
			<ion-col col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3>
				<ion-card>
					<ion-card-header>
						<h1>{{profileProvider.profile.fullName}}</h1>
						<p>{{accountProvider.myAccount.owner}}</p>
					</ion-card-header>
					<ion-list>
						<ion-item>
							Bids Placed
							<p item-right>{{profileProvider.profile.bidsCount}}</p>
						</ion-item>
						<ion-item>
							Lots Won
							<p item-right>{{profileProvider.wins}}</p>
						</ion-item>
						<ion-item>
							Total Spent
							<p item-right>{{profileProvider.profile.totalSpent | currency}}</p>
						</ion-item>
					</ion-list>
				</ion-card>
			</ion-col>
			<ion-col col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3>
				<ion-card>
					<ion-card-header>
						Bid History
					</ion-card-header>
					<ion-list>
						<template ngFor let-bid [ngForOf]="profileProvider.profile.bids">
							<button *ngIf="bid.status == 'Placed' || bid.status == 'Outbid' || bid.status == 'Winner'" ion-item>
								<h2>Lot #{{bid.lotID}}</h2>
								<h3>{{bid.amount | currency}}</h3>
								<p>{{formatBidTimestamp(bid.bidTime)}}</p>
								<ion-badge *ngIf="bid.status == 'Placed'" color="go" item-right>{{bid.status}}</ion-badge>
								<ion-badge *ngIf="bid.status == 'Outbid'" color="danger" item-right>{{bid.status}}</ion-badge>
								<ion-badge *ngIf="bid.status == 'Winner'" color="secondary" item-right>{{bid.status}}</ion-badge>
							</button>
						</template>
					</ion-list>
				</ion-card>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
