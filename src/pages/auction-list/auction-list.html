<!--
  Generated template for the AuctionList page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar color="primary">
		<ion-title>Auctions</ion-title>
	</ion-navbar>

</ion-header>


<ion-content padding>
	<ion-grid>
		<ion-row>
			<ion-col col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3>
				<ion-list>
					<ion-list-header *ngIf="loginProvider.creds.role == 'user'">Current Auction</ion-list-header>
					<ion-list-header *ngIf="loginProvider.creds.role == 'admin'">Current Auctions</ion-list-header>
					<template ngFor let-auct [ngForOf]="auctionProvider.auctions">
						<button *ngIf="isCurrent(auct)" ion-item (click)="navToAuction(auct.id)">
							<h2>{{auct.city}}, {{auct.stateCode}}</h2>
							<p>Ends at {{formatTime(auct.endTime)}}</p>
						</button>
					</template>
				</ion-list>
				<ion-list *ngIf="loginProvider.creds.role == 'user'">
					<ion-list-header>Registered Auctions</ion-list-header>
					<template ngFor let-auct [ngForOf]="auctionProvider.auctions">
						<button *ngIf="isRegistered(auct)" ion-item (click)="navToAuction(auct.id)">
							<h2>{{auct.city}}, {{auct.stateCode}}</h2>
							<p>{{formatDate(auct.startTime)}}</p>
						</button>
					</template>
				</ion-list>
			</ion-col>
			<ion-col col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3>
				<ion-list>
					<ion-list-header>Upcoming Auctions</ion-list-header>
					<template ngFor let-auct [ngForOf]="auctionProvider.auctions">
						<button *ngIf="isUpcoming(auct)" ion-item (click)="navToAuction(auct.id)">
							<h2>{{auct.city}}, {{auct.stateCode}}</h2>
							<p>{{formatDate(auct.startTime)}}</p>
						</button>
					</template>
				</ion-list>
			</ion-col>
			<ion-col col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3>
				<ion-list>
					<ion-list-header *ngIf="loginProvider.creds.role == 'user'">Your History</ion-list-header>
					<ion-list-header *ngIf="loginProvider.creds.role == 'admin'">Past Auctions</ion-list-header>
					<template ngFor let-auct [ngForOf]="auctionProvider.auctions">
						<button *ngIf="isPast(auct)" ion-item (click)="navToAuction(auct.id)">
							<h2>{{auct.city}}, {{auct.stateCode}}</h2>
							<p>{{formatDate(auct.startTime)}}</p>
						</button>
					</template>
				</ion-list>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
